name: oh-sense-backend

run-name: ${{ github.actor }} is learning GitHub Actions

on:
  push:
    branches: [main]
jobs:
  nestjs-ci-cd:
    runs-on: ubuntu-20.04
    steps:
      - name: checkout
        uses: actions/checkout@v4
      - name: setup node
        uses: actions/setup-node@v4.0.0
        with:
          node-version: 20.x
      - name: install dependencies
        run: npm ci
      - name: run test
        run: npm test
# 시나리오
# main에 pull requests가 들어오면 해당 브렌치로 이동해서 테스트를 진행한다.
# 테스트가 완료가 되어야 병합이 가능하다.
# 병합 이벤트가 생기면 배포를 진행한다.
